# Default values for binarylane-cloud-controller-manager.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: ghcr.io/oscarhermoso/binarylane-cloud-controller-manager
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ''

imagePullSecrets: []
nameOverride: ''
fullnameOverride: ''

cloudControllerManager:
  # Name of secret containing BinaryLane API token
  # Create: kubectl create secret generic binarylane-api-token --from-literal=api-token="YOUR_TOKEN" -n kube-system
  secret:
    name: ''
    key: 'api-token'
  # BinaryLane region (e.g., "syd", "bne", "per")
  region: ''
  # BinaryLane API URL
  apiUrl: 'https://api.binarylane.com.au'

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Automatically mount a ServiceAccount's API credentials?
  automount: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ''

podAnnotations: {}
podLabels: {}

podSecurityContext:
  runAsNonRoot: true
  runAsUser: 65532
  fsGroup: 65532
  seccompProfile:
    type: RuntimeDefault

securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 64Mi

# Node selector for pod assignment
nodeSelector:
  node-role.kubernetes.io/control-plane: ''

# Tolerations for pod assignment
tolerations:
  - key: node-role.kubernetes.io/control-plane
    operator: Exists
    effect: NoSchedule
  - key: node-role.kubernetes.io/master
    operator: Exists
    effect: NoSchedule
  - key: node.cloudprovider.kubernetes.io/uninitialized
    operator: Exists
    effect: NoSchedule

# Affinity for pod assignment
affinity: {}

# Priority class name
priorityClassName: system-cluster-critical

# Host network - cloud controller manager needs to communicate with API server
hostNetwork: true

# Service configuration (not typically used for CCM)
service:
  enabled: false
  type: ClusterIP
  port: 10258

# Enable verbose logging
verbosity: 2

# Extra arguments to pass to the cloud controller manager
extraArgs: []
  # - --configure-cloud-routes=false

# Extra environment variables
extraEnv: []
  # - name: HTTP_PROXY
  #   value: "http://proxy.example.com:8080"

# Extra volumes
extraVolumes: []
  # - name: ca-certs
  #   hostPath:
  #     path: /etc/ssl/certs

# Extra volume mounts
extraVolumeMounts: []
  # - name: ca-certs
  #   mountPath: /etc/ssl/certs
  #   readOnly: true
